<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>[转] 羊毛党跑去京东摸了年终奖 - helloword啊</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="半佛仙人" /><meta name="description" content="每次公司搞推广搞活动的时候, 大脑里都要紧绷一根弦 1月7日，京东家电出了一个事故。 部分用户在领取京东的无门槛优惠券之后，可以用极低的价格（几十" /><meta name="keywords" content="风控策略, 优惠券设计, 促销活动风控" />






<meta name="generator" content="Hugo 0.103.1 with theme even" />


<link rel="canonical" href="https://blog.justwe.site/post/article-1/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.2a3766884c406c389d3a4ca20b300e80e434d78f1c08825bbdf164a13f4a4235.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="[转] 羊毛党跑去京东摸了年终奖" />
<meta property="og:description" content="每次公司搞推广搞活动的时候, 大脑里都要紧绷一根弦 1月7日，京东家电出了一个事故。 部分用户在领取京东的无门槛优惠券之后，可以用极低的价格（几十" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.justwe.site/post/article-1/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2020-01-17T17:17:29+08:00" />
<meta property="article:modified_time" content="2020-02-19T18:24:14+08:00" />

<meta itemprop="name" content="[转] 羊毛党跑去京东摸了年终奖">
<meta itemprop="description" content="每次公司搞推广搞活动的时候, 大脑里都要紧绷一根弦 1月7日，京东家电出了一个事故。 部分用户在领取京东的无门槛优惠券之后，可以用极低的价格（几十"><meta itemprop="datePublished" content="2020-01-17T17:17:29+08:00" />
<meta itemprop="dateModified" content="2020-02-19T18:24:14+08:00" />
<meta itemprop="wordCount" content="3757">
<meta itemprop="keywords" content="风控策略," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[转] 羊毛党跑去京东摸了年终奖"/>
<meta name="twitter:description" content="每次公司搞推广搞活动的时候, 大脑里都要紧绷一根弦 1月7日，京东家电出了一个事故。 部分用户在领取京东的无门槛优惠券之后，可以用极低的价格（几十"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">&lt;Hello world /&gt; 啊哈</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">首页</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">文章</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">标签</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">分类</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">关于我</li>
      </a>
  </ul>

  


</nav>

  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">&lt;Hello world /&gt; 啊哈</a>
</div>





<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">首页</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">文章</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">标签</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">分类</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">关于我</a>
      </li>
  </ul>
</nav>

    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">[转] 羊毛党跑去京东摸了年终奖</h1>

      <div class="post-meta">
        <span class="post-time"> 2020-01-17 </span>
        <div class="post-category">
            <a href="/categories/%E7%B2%BE%E9%80%89%E8%BD%AC%E8%BD%BD/"> 精选转载 </a>
            </div>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#1事前发券环节">1.事前发券环节。</a></li>
        <li><a href="#2发券环节结束后是用券环节">2.发券环节结束后，是用券环节。</a></li>
        <li><a href="#3动态关系网络抑或是图数据库">3.动态关系网络，抑或是图数据库。</a></li>
        <li><a href="#4库存保护机制订单三次核验以及发货拦截机制">4.库存保护机制，订单三次核验以及发货拦截机制。</a></li>
        <li><a href="#5数据监控和警报机制">5.数据监控和警报机制。</a></li>
        <li><a href="#6运营权限管控">6.运营权限管控</a></li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
  <div class="post-outdated">
    <div class="warn">
      <p>【注意】最后更新于 <span class="timeago" datetime="2020-02-19T18:24:14" title="February 19, 2020">February 19, 2020</span>，文中内容可能已过时，请谨慎使用。</p>
    </div>
  </div>
    <div class="post-content">
      <p>每次公司搞推广搞活动的时候, 大脑里都要紧绷一根弦</p>
<p>1月7日，京东家电出了一个事故。</p>
<p>部分用户在领取京东的无门槛优惠券之后，可以用极低的价格（几十块几块甚至0元）购买数百元的小家电，主要是烤箱及微波炉类产品。</p>
<p>羊毛党随之倾巢出动，大赚年终奖。</p>
<p>传闻在极短的时间里，出现了24万笔低价订单，涉及商品金额数千万。</p>
<p>1月8日开始，大量低价下单用户开始反馈，自己的订单被锁定，无法发货和收货。</p>
<p>balabala, 这期间各种鸡飞狗跳兵荒马乱的事情都出现了, 针对这次事件, 文章作者给出了相应问题的解决方案, 我感觉很有收藏的价值</p>
<!-- raw HTML omitted -->
<h3 id="1事前发券环节">1.事前发券环节。</h3>
<p>本次事件的第一个节点在于优惠券的发放。</p>
<p>电商的优惠券一般分为两种券，一种是无门槛的优惠券，不管你买了多少钱的商品，都可以使用，最低可以付0元来获得商品。</p>
<p>另一种是有门槛的优惠券，属于满X减Y，例如满1000减200，由于有门槛券不论如何都是可以带来GMV的，所以有门槛券的限制会松很多，当然本次的主角也不是有门槛券。</p>
<p>所以我们主要讲无门槛券。</p>
<p>在电商业务中，无门槛券约等于现金，需要非常严肃的对待。</p>
<h4 id="11无门槛券的效果完全等同于现金所以无门槛券不能无限发">1.1无门槛券的效果完全等同于现金，所以无门槛券不能无限发。</h4>
<p>无门槛券必须限制一个总额，也就是券的总张数，超过这个数字就显示已被抢光，这是最底层的规则，控制总成本。</p>
<p>此次事件中未出现这个限制，居然有24W张面值为200元的无门槛券被领走了，这个非常惊人。</p>
<h4 id="12无门槛券必须严格限制领取资格">1.2无门槛券必须严格限制领取资格。</h4>
<p>不是所有人都有资格领券的，为了保证活动效果的最大化，无门槛券往往会专门限定用户的群体。</p>
<p>随便举几个例子，实际业务中按照业务目的来做具体切割，新老用户的定义也是业务方按照需求定义的。</p>
<p>在拉新场景中，券不该给老用户，因为是用来给新用户的。</p>
<p>在运营场景中，券不该给新用户，因为是用来激活老用户忠诚度的。</p>
<p>在大促场景中，券不该给不活跃用户，因为是用来维持用户活跃度的。</p>
<p>而此次事件中，未出现此类限制，券人人都能领，这就导致羊毛党使用机器就可以在短时间内完成大量下单。</p>
<h4 id="13-无门槛券必须有一系列的核身核实身份策略确保知道钱发给了谁">1.3 无门槛券必须有一系列的核身（核实身份）策略，确保知道钱发给了谁。</h4>
<p>因为无门槛券等于发现金，所以到底钱给了谁，非常非常重要。</p>
<p>要保证钱必须给到不同的人，不然就是无效补贴。</p>
<p>核身策略中最常见的就是不同账号出现了同一收货手机号，同一收货地址，同一历史行为，同一IP，同一设备ID，同一支付ID，LBS，等等等等一系列策略，是电商最基础的风控规则包。</p>
<p>而此次事件中，未发现此类限制，导致羊毛党直接用脚本就可以操作，短时间24万订单，很恐怖。</p>
<p>整个发券环节，风控是存在一定缺失的。</p>
<h3 id="2发券环节结束后是用券环节">2.发券环节结束后，是用券环节。</h3>
<p>领券后想要获利，则必然要用券，这个阶段，是风控介入的重点环节。</p>
<p>如果用券风险管理做得好，完全可以弥补发券环节的缺失。</p>
<h4 id="21用户用券时核验用户的异常特征">2.1用户用券时，核验用户的异常特征。</h4>
<p>每一个用户在登录APP的时候，都是会留下大量特征的，这些异常的数据特征都需要有专门的风险规则来核验。</p>
<p>随便举一些案例。</p>
<p>近3个月只登录了1次，且本次领券用券的用户。</p>
<p>登录IP为XX风险号段的用户。</p>
<p>登录特定设备型号（某安卓or苹果手机）+来源（应用市场）的用户。</p>
<p>登录设备曾经多次以不同身份登录APP的用户。</p>
<p>本地APP List中包含沙盒类APP的用户。</p>
<p>Root用户等等等等等等。</p>
<p>类似的异常特征有很多，每个成熟的电商都应该有类似的规则集，某些异常的用户就应该在用券的环节做double check，直接禁止用券或者禁止支付。</p>
<p>本次事件中，该机制没有发挥作用，是没有这套机制还是其他异常，不得而知。</p>
<h4 id="22用券下单时核验用户的下单信息并横向比较">2.2用券下单时，核验用户的下单信息，并横向比较。</h4>
<p>用户在下单时，是需要留下大量信息的，这些信息可以作为风险的判定条件。</p>
<p>举一些例子。</p>
<p>收货手机号是否出现多笔订单一致的情况？</p>
<p>收货手机号是否为账号常用手机号？</p>
<p>是否为本机手机号？</p>
<p>收货人姓名是否出现多笔订单一致的情况？</p>
<p>收货姓名是否为常用姓名？</p>
<p>收货地址是都出现多笔订单一致或者相似的情况？</p>
<p>下单区域是否出现动态叠加？</p>
<p>下单支付账号是否出现相同的情况？</p>
<p>下单设备号（IMEI），是否出现重复？</p>
<p>下单用户的操作路径，是否是直接登录-领券-下单？</p>
<p>类似的规则主要是拦截掉异常的订单。</p>
<p>此次事件中，未出现此类拦截。</p>
<h4 id="23用券时核验用户的共同特征">2.3用券时，核验用户的共同特征。</h4>
<p>共同特征主要是防范大规模机器操作的，原理为大量僵尸设备登录的时候会有非常显著的共性，一般批量拦截即可。</p>
<p>例如同一批下单区域的用户。</p>
<p>相同的WIFI地址。</p>
<p>相同的支付ID。</p>
<p>相同的操作频率（登录+选中+付款的速度），相同的操作路径。</p>
<p>相同的LBS位置。</p>
<p>相同的历史购物记录等等等等。</p>
<p>此次事件中，未出现此类拦截。</p>
<h3 id="3动态关系网络抑或是图数据库">3.动态关系网络，抑或是图数据库。</h3>
<p>所谓动态关系网络，是指在实时下单的用户中，通过关系网匹配已下单用户中的关联情况，抓取可疑的团伙群体。</p>
<p>例如，同一时间段内。</p>
<p>下单用户中出现大量互相交叉的收货地址，A给B下单，B给A下单。</p>
<p>下单用户中出现大量用户互相在通讯录中。</p>
<p>下单用户中发现大量用户曾经给某些商品进行过评价。</p>
<p>下单用户中出现大量用户曾经登陆过相同的设备，等等等等。</p>
<p>此次事件中，未出现此类拦截。</p>
<h3 id="4库存保护机制订单三次核验以及发货拦截机制">4.库存保护机制，订单三次核验以及发货拦截机制。</h3>
<p>即使在领券，用券，下单支付环节都没有完成拦截和过滤，那么在下单后，依然可以进行风险管控。</p>
<h4 id="41库存保护机制">4.1库存保护机制</h4>
<p>这次被羊毛党主动攻击的订单集中于几个品牌的特定产品，并且短期内爆发了大量的订单，这个订单数量远远超过了正常库存的数量，这些商品是京东自营，不可能有这么多的库存数量。</p>
<p>一般电商风控在防止薅羊毛的时候，会在库存机制上做分隔，除非是确认的倾销，不然库存都是有一个上限的，卖完会下架或者换一个全新的SKU来替换。</p>
<p>被少量商品刷爆，并且库存丝毫没有拦截，是本次事件的一个特点。</p>
<h4 id="42订单的第三次核验以及拦截">4.2订单的第三次核验以及拦截</h4>
<p>电商的订单不是用户付完款就直接发货的，一般是用户下单支付后的一段时间（N分钟到N小时）内，按批次发送物流，或者同时发送物流，但是按照时间节点来处理。</p>
<p>这就代表着，在物流处理的节点，还可以加一次check，甚至可以多加几个小时，等待大批量的订单进入待发货状态，批量比较订单。</p>
<p>很多海淘商品和大促商品，都有这套完整的机制，如果在这个节点发现异常，直接拦截即可。</p>
<p>这个在电商术语里面叫做砍单，相信大家不陌生。</p>
<p>这次事件的砍单效率，有点事后强行扭的意思，而且从声明中可以看到已经有大批订单签收了，还有一大批堆在物流配送节点了。</p>
<p>这也是用户大量投诉的前提，假如直接砍单，那么反响会小很多。</p>
<p>整体的机制做的不够完善。</p>
<h3 id="5数据监控和警报机制">5.数据监控和警报机制。</h3>
<p>对于优惠券消费，尤其是无门槛券，应该是有完整的监控体系的。</p>
<p>对于优惠券的流向以及流量监控，并且设置报警阈值，失效机制，熔断机制，这些风控和大数据都应该早就准备好的。</p>
<p>数据监控和警报埋点做好，实时监控所有订单，并统计数据，一旦某些指标超出常规，立刻发出警报到相关负责人的设备，并且暂时hold住所有异常订单发货，等待相关负责人做二次确认。</p>
<p>本次短时间爆发的大量订单，相关商品一定是在短时间冲上了类目的top5甚至top3，并且销售量和实付金额必然极度异常，有完整的数据监控和警报体系的话，应该是第一时间就冻结所有商品发货，然后通知相关负责人。</p>
<p>从本次的事件来看，似乎并没有完整的这套流程。</p>
<h3 id="6运营权限管控">6.运营权限管控</h3>
<p>本次大额无门槛券突然被大量的放了出来并且能够使用，且在短时间之内没有被风控拦截，按照京东声明里的说法是，优惠券设置错误。</p>
<p>把原本有门槛的券设置为无门槛，或者金额多了个0，或者使用范围增加了，在大型电商的运营后台，运营配置错误的情况时有发生。</p>
<p>可以理解，人出错是很正常的。</p>
<p>但是机制不应该出错。需要控制运营的权限，不允许单一运营配置总额大于X的券，并且需要设置二次审核甚至三次审核机制，更极致一点的还要数据分析师给出ROI测算依据。</p>
<p>权限管控和流程风控也是风险管理的重点，相信规则的力量。</p>
<p>本次事件中，这个点或许存在一定的隐患。</p>
<p>当然，本文讲述的风控知识只是最表面的一些，核心的关键指标设计，特征工程，变量中心，决策引擎，钓鱼机制，卡单逻辑以及规则集和关键词库等更有趣的内容受制于篇幅和敏感度，也不适合放出来，一般只有线下分享以及同行面对面的时候才会谈论。</p>
<p>只能说，对付羊毛党，一套成熟的风控体系还是有点用处的。</p>
<p>但无奈的是，对于绝大多数公司而言，风控都是很尴尬的存在。</p>
<p>因为风控只负责减法，而业务和运营负责加法，老板想看的是加法的结果。</p>
<p>这就导致风控即使有一肚子本身，可能都要不到研发资源，有限的资源全都去做业务了。</p>
<p>没有研发资源的风控，有本事也没本事。</p>
<p>风控是内功，是要大力投入的内功，可惜大部分人都不太重视。</p>
<p>一来嘛，风控属于桥上的栏杆，不出问题根本用不上，这就代表这不如多做业务多做GMV能才有利于个人的晋升答辩，风控这东西除非放贷款，不然很难量化成果。</p>
<p>尤其是做风控系统的，要吃大量的研发资源，但是效果看起来平平无奇，这个很考验企业老板的眼光。</p>
<p>二来嘛，有部分公司的老板很聪明，公司即使有些损失，但只要有GMV的增长，可以在资本市场把钱再拿回来，羊毛出在猪身上。</p>
<p>这时候，风控就很碍眼了，需要丢出来背锅。</p>
<p>所以在很多老板眼中，不出事儿，养风控就像养猪。</p>
<p>出了事儿，养风控可能还不如养猪。</p>
<p>这句话其实是有一定道理的，但这是增量年代的逻辑。</p>
<p>现在这个存量的年代，比谁不出错，可能才更有价值。</p>
<p><a href="https://mp.weixin.qq.com/s/0pjC-rLSgL68DsqYDJgnHg">原文地址</a></p>

    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">半佛仙人</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">
        2020-02-19
        <a href="#ZgotmplZ/commit/c645a7c68ee8f638236f9596c1a5ad51ec2b4e16" title="更新">(c645a7c)</a>
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      <div class="post-tags">
          <a href="/tags/%E9%A3%8E%E6%8E%A7%E7%AD%96%E7%95%A5/">风控策略</a>
          </div>
      <nav class="post-nav">
        <a class="prev" href="/post/leetcode-nextpermutation/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">[leetcode] NextPermutation</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/go-escape-heap/">
            <span class="next-text nav-default">golang 简单解释内存逃逸</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  
  <div id="vcomments"></div>
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: 'VJnd89VyHmFPThDMO5zcnpqI-gzGzoHsz',
        appKey: 'VNttckiEwr7AC9In6lw3BXnf',
        notify:  false ,
        verify:  false ,
        avatar:'mm',
        placeholder: '说点什么吧...',
        visitor:  false 
    });
  </script>

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="https://github.com/gaopengfei123123" class="iconfont icon-github" title="github"></a>
  <a href="https://blog.justwe.site/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2016 - 
    2024<span class="heart"><i class="iconfont icon-heart"></i></span><span><a rel='icp' href='https://beian.miit.gov.cn/' target='_blank'>justwe.site 版权所有 ICP证:京ICP备16053557号</a></span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.min.js" integrity="sha256-jwCP0NAdCBloaIWTWHmW4i3snUNMHUNO+jr9rYd2iOI=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/timeago.js@3.0.2/dist/timeago.locales.min.js" integrity="sha256-ZwofwC1Lf/faQCzN7nZtfijVV6hSwxjQMwXL4gn9qU8=" crossorigin="anonymous"></script>
  <script><!-- NOTE: timeago.js uses the language code format like "zh_CN" (underscore and case sensitive) -->
    var languageCode = "en".replace(/-/g, '_').replace(/_(.*)/, function ($0, $1) {return $0.replace($1, $1.toUpperCase());});
    timeago().render(document.querySelectorAll('.timeago'), languageCode);
    timeago.cancel();  
  </script>



<script type="text/javascript" src="/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-92777740-2', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>

<script id="baidu_push">
  (function(){
    if (window.location.hostname === 'localhost') return;
    var bp = document.createElement('script'); bp.async = true;
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
</script>





<script>
  function createCopyButton(highlightDiv) {
    const div = document.createElement("div");
    div.className = "copy-code";
    div.innerText = "Copy";
    div.addEventListener("click", () =>
      copyCodeToClipboard(div, highlightDiv)
    );
    addCopyButtonToDom(div, highlightDiv);
  }

  async function copyCodeToClipboard(button, highlightDiv) {
    const codeToCopy = highlightDiv.querySelector(":last-child > .chroma > code")
      .innerText;
    await navigator.clipboard.writeText(codeToCopy);
    button.blur();
    button.innerText = "Copied!";
    setTimeout(() => button.innerText = "Copy", 2000);
  }

  function addCopyButtonToDom(button, highlightDiv) {
    highlightDiv.insertBefore(button, highlightDiv.firstChild);
    const wrapper = document.createElement("div");
    wrapper.className = "highlight-wrapper";
    highlightDiv.parentNode.insertBefore(wrapper, highlightDiv);
    wrapper.appendChild(highlightDiv);
  }

  var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
  if(!isMobile){
     document.querySelectorAll(".highlight").forEach((highlightDiv) => createCopyButton(highlightDiv));
  }
</script>  


</body>
</html>
